{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///D:/hotal_project/web_app/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client';\r\n\r\nconst prismaClientSingleton = () => {\r\n    return new PrismaClient();\r\n};\r\n\r\ntype PrismaClientSingleton = ReturnType<typeof prismaClientSingleton>;\r\n\r\nconst globalForPrisma = globalThis as unknown as {\r\n    prisma: PrismaClientSingleton | undefined;\r\n};\r\n\r\nexport const prisma = globalForPrisma.prisma ?? prismaClientSingleton();\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n    globalForPrisma.prisma = prisma;\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,wBAAwB;IAC1B,OAAO,IAAI,sMAAY;AAC3B;AAIA,MAAM,kBAAkB;AAIjB,MAAM,SAAS,gBAAgB,MAAM,IAAI;AAEhD,wCAA2C;IACvC,gBAAgB,MAAM,GAAG;AAC7B"}},
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///D:/hotal_project/web_app/app/api/rooms/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\r\nimport { prisma } from \"@/lib/prisma\";\r\n\r\n// GET: List all rooms\r\nexport async function GET() {\r\n    try {\r\n        const rooms = await prisma.room.findMany({\r\n            orderBy: { id: \"asc\" }\r\n        });\r\n        return NextResponse.json(rooms);\r\n    } catch (error) {\r\n        return NextResponse.json({ error: \"Failed to fetch rooms\" }, { status: 500 });\r\n    }\r\n}\r\n\r\n// POST: Add a new room\r\nexport async function POST(req: NextRequest) {\r\n    try {\r\n        const body = await req.json(); // { id, type, deviceId }\r\n\r\n        // Validation: Check if Room ID exists\r\n        const exists = await prisma.room.findUnique({ where: { id: body.id } });\r\n        if (exists) {\r\n            return NextResponse.json({ error: \"Room ID already exists\" }, { status: 400 });\r\n        }\r\n\r\n        const room = await prisma.room.create({\r\n            data: {\r\n                id: body.id,\r\n                type: body.type,\r\n                deviceId: body.deviceId || null,\r\n                status: \"Vacant\"\r\n            }\r\n        });\r\n\r\n        return NextResponse.json(room);\r\n    } catch (error) {\r\n        console.error(\"Add Room Error:\", error);\r\n        return NextResponse.json({ error: \"Failed to add room\" }, { status: 500 });\r\n    }\r\n}\r\n\r\n// PUT: Update Room Device ID\r\nexport async function PUT(req: NextRequest) {\r\n    try {\r\n        const body = await req.json(); // { id, deviceId }\r\n\r\n        const room = await prisma.room.update({\r\n            where: { id: body.id },\r\n            data: { deviceId: body.deviceId }\r\n        });\r\n\r\n        return NextResponse.json(room);\r\n    } catch (error) {\r\n        return NextResponse.json({ error: \"Failed to update room\" }, { status: 500 });\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;;;AAGO,eAAe;IAClB,IAAI;QACA,MAAM,QAAQ,MAAM,yHAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;YACrC,SAAS;gBAAE,IAAI;YAAM;QACzB;QACA,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC7B,EAAE,OAAO,OAAO;QACZ,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAwB,GAAG;YAAE,QAAQ;QAAI;IAC/E;AACJ;AAGO,eAAe,KAAK,GAAgB;IACvC,IAAI;QACA,MAAM,OAAO,MAAM,IAAI,IAAI,IAAI,yBAAyB;QAExD,sCAAsC;QACtC,MAAM,SAAS,MAAM,yHAAM,CAAC,IAAI,CAAC,UAAU,CAAC;YAAE,OAAO;gBAAE,IAAI,KAAK,EAAE;YAAC;QAAE;QACrE,IAAI,QAAQ;YACR,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAyB,GAAG;gBAAE,QAAQ;YAAI;QAChF;QAEA,MAAM,OAAO,MAAM,yHAAM,CAAC,IAAI,CAAC,MAAM,CAAC;YAClC,MAAM;gBACF,IAAI,KAAK,EAAE;gBACX,MAAM,KAAK,IAAI;gBACf,UAAU,KAAK,QAAQ,IAAI;gBAC3B,QAAQ;YACZ;QACJ;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC7B,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,mBAAmB;QACjC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAqB,GAAG;YAAE,QAAQ;QAAI;IAC5E;AACJ;AAGO,eAAe,IAAI,GAAgB;IACtC,IAAI;QACA,MAAM,OAAO,MAAM,IAAI,IAAI,IAAI,mBAAmB;QAElD,MAAM,OAAO,MAAM,yHAAM,CAAC,IAAI,CAAC,MAAM,CAAC;YAClC,OAAO;gBAAE,IAAI,KAAK,EAAE;YAAC;YACrB,MAAM;gBAAE,UAAU,KAAK,QAAQ;YAAC;QACpC;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC7B,EAAE,OAAO,OAAO;QACZ,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAwB,GAAG;YAAE,QAAQ;QAAI;IAC/E;AACJ"}}]
}