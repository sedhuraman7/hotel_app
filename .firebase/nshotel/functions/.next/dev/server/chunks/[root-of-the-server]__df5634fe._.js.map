{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///D:/hotal_project/web_app/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client';\r\n\r\nconst prismaClientSingleton = () => {\r\n    return new PrismaClient();\r\n};\r\n\r\ntype PrismaClientSingleton = ReturnType<typeof prismaClientSingleton>;\r\n\r\nconst globalForPrisma = globalThis as unknown as {\r\n    prisma: PrismaClientSingleton | undefined;\r\n};\r\n\r\nexport const prisma = globalForPrisma.prisma ?? prismaClientSingleton();\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n    globalForPrisma.prisma = prisma;\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,wBAAwB;IAC1B,OAAO,IAAI,sMAAY;AAC3B;AAIA,MAAM,kBAAkB;AAIjB,MAAM,SAAS,gBAAgB,MAAM,IAAI;AAEhD,wCAA2C;IACvC,gBAAgB,MAAM,GAAG;AAC7B"}},
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///D:/hotal_project/web_app/app/api/employees/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\r\nimport { prisma } from \"@/lib/prisma\";\r\n\r\n// GET: List all employees\r\nexport async function GET() {\r\n    try {\r\n        const employees = await prisma.employee.findMany({\r\n            orderBy: { createdAt: 'desc' }\r\n        });\r\n        return NextResponse.json(employees);\r\n    } catch (error) {\r\n        return NextResponse.json({ error: \"Failed to fetch employees\" }, { status: 500 });\r\n    }\r\n}\r\n\r\n// POST: Add a new employee\r\nexport async function POST(req: NextRequest) {\r\n    try {\r\n        const body = await req.json();\r\n        // body: { id, name, role, phone, email, ... }\r\n\r\n        // Check ID uniqueness\r\n        const existing = await prisma.employee.findUnique({ where: { id: body.id } });\r\n        if (existing) {\r\n            return NextResponse.json({ error: \"Employee ID already exists\" }, { status: 400 });\r\n        }\r\n\r\n        const employee = await prisma.employee.create({\r\n            data: {\r\n                id: body.id,\r\n                name: body.name,\r\n                role: body.role,\r\n                rfidCardId: body.rfidCardId || null, // Optional\r\n                phone: body.phone,\r\n                email: body.email,\r\n                joinDate: new Date(body.joinDate),\r\n                salary: parseFloat(body.salary),\r\n                status: \"Active\"\r\n            }\r\n        });\r\n\r\n        return NextResponse.json(employee);\r\n    } catch (error) {\r\n        console.error(\"Add Employee Error:\", error);\r\n        return NextResponse.json({ error: \"Failed to create employee\" }, { status: 500 });\r\n    }\r\n}\r\n\r\n// DELETE: Remove employee\r\nexport async function DELETE(req: NextRequest) {\r\n    try {\r\n        const { searchParams } = new URL(req.url);\r\n        const id = searchParams.get(\"id\");\r\n\r\n        if (!id) return NextResponse.json({ error: \"ID required\" }, { status: 400 });\r\n\r\n        await prisma.employee.delete({\r\n            where: { id }\r\n        });\r\n\r\n        return NextResponse.json({ success: true });\r\n    } catch (error) {\r\n        return NextResponse.json({ error: \"Failed to delete\" }, { status: 500 });\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;;;AAGO,eAAe;IAClB,IAAI;QACA,MAAM,YAAY,MAAM,yHAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC;YAC7C,SAAS;gBAAE,WAAW;YAAO;QACjC;QACA,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC7B,EAAE,OAAO,OAAO;QACZ,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA4B,GAAG;YAAE,QAAQ;QAAI;IACnF;AACJ;AAGO,eAAe,KAAK,GAAgB;IACvC,IAAI;QACA,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,8CAA8C;QAE9C,sBAAsB;QACtB,MAAM,WAAW,MAAM,yHAAM,CAAC,QAAQ,CAAC,UAAU,CAAC;YAAE,OAAO;gBAAE,IAAI,KAAK,EAAE;YAAC;QAAE;QAC3E,IAAI,UAAU;YACV,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAA6B,GAAG;gBAAE,QAAQ;YAAI;QACpF;QAEA,MAAM,WAAW,MAAM,yHAAM,CAAC,QAAQ,CAAC,MAAM,CAAC;YAC1C,MAAM;gBACF,IAAI,KAAK,EAAE;gBACX,MAAM,KAAK,IAAI;gBACf,MAAM,KAAK,IAAI;gBACf,YAAY,KAAK,UAAU,IAAI;gBAC/B,OAAO,KAAK,KAAK;gBACjB,OAAO,KAAK,KAAK;gBACjB,UAAU,IAAI,KAAK,KAAK,QAAQ;gBAChC,QAAQ,WAAW,KAAK,MAAM;gBAC9B,QAAQ;YACZ;QACJ;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC7B,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,uBAAuB;QACrC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA4B,GAAG;YAAE,QAAQ;QAAI;IACnF;AACJ;AAGO,eAAe,OAAO,GAAgB;IACzC,IAAI;QACA,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,IAAI,GAAG;QACxC,MAAM,KAAK,aAAa,GAAG,CAAC;QAE5B,IAAI,CAAC,IAAI,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAc,GAAG;YAAE,QAAQ;QAAI;QAE1E,MAAM,yHAAM,CAAC,QAAQ,CAAC,MAAM,CAAC;YACzB,OAAO;gBAAE;YAAG;QAChB;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAK;IAC7C,EAAE,OAAO,OAAO;QACZ,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAmB,GAAG;YAAE,QAAQ;QAAI;IAC1E;AACJ"}}]
}