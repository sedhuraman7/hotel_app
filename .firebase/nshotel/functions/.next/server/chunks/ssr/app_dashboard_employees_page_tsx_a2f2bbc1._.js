module.exports=[72439,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(15618),e=a.i(87532),f=a.i(70106);let g=(0,f.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var h=a.i(74875),i=a.i(46271),j=a.i(62036),k=a.i(33508),l=a.i(46842);let m=(0,f.default)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);var n=a.i(81402);let o=(0,f.default)("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);var p=a.i(92258),q=a.i(90166);let r=(0,f.default)("bluetooth",[["path",{d:"m7 7 10 10-5 5V2l5 5L7 17",key:"1q5490"}]]);function s({isOpen:a,onClose:d,onSubmit:e}){let[f,g]=(0,c.useState)({employeeName:"",employeeId:"",rfid:"",bleId:"",employeeType:"",phoneNumber:"+91 ",email:"",dob:"",address:"",joinDate:"",salary:"",status:"Active",assignedRoom:""}),h=a=>{let{name:b,value:c}=a.target;g(a=>({...a,[b]:c}))};return(0,b.jsx)(j.AnimatePresence,{children:a&&(0,b.jsxs)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 sm:p-6",children:[(0,b.jsx)(i.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:d,className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),(0,b.jsxs)(i.motion.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative bg-white w-full max-w-4xl max-h-[90vh] overflow-y-auto rounded-2xl shadow-2xl flex flex-col",children:[(0,b.jsxs)("div",{className:"sticky top-0 bg-white z-10 border-b border-slate-100 px-6 py-4 flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-slate-800",children:"Add New Employee"}),(0,b.jsx)("p",{className:"text-sm text-slate-500",children:"Enter employee details to generate ID"})]}),(0,b.jsx)("button",{onClick:d,className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:(0,b.jsx)(k.X,{className:"w-6 h-6 text-slate-500"})})]}),(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),e(f),d()},className:"p-6 space-y-8",children:[(0,b.jsxs)("section",{children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[(0,b.jsx)(l.User,{className:"w-5 h-5 text-blue-500"})," Personal Details"]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-semibold text-slate-600 uppercase",children:"Employee Name *"}),(0,b.jsx)("input",{name:"employeeName",required:!0,value:f.employeeName,onChange:h,className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all",placeholder:"Enter full name"})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-semibold text-slate-600 uppercase",children:"Phone Number *"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(o,{className:"absolute left-3 top-3 w-5 h-5 text-slate-400"}),(0,b.jsx)("input",{name:"phoneNumber",required:!0,value:f.phoneNumber,onChange:h,className:"w-full pl-10 p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all"})]})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-semibold text-slate-600 uppercase",children:"Email Address"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(p.Mail,{className:"absolute left-3 top-3 w-5 h-5 text-slate-400"}),(0,b.jsx)("input",{type:"email",name:"email",value:f.email,onChange:h,className:"w-full pl-10 p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all",placeholder:"employee@hotel.com"})]})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-semibold text-slate-600 uppercase",children:"Date of Birth"}),(0,b.jsx)("input",{type:"date",name:"dob",value:f.dob,onChange:h,className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all"})]}),(0,b.jsxs)("div",{className:"col-span-1 md:col-span-2 space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-semibold text-slate-600 uppercase",children:"Address"}),(0,b.jsx)("textarea",{name:"address",rows:2,value:f.address,onChange:h,className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all",placeholder:"Enter employee address"})]})]})]}),(0,b.jsxs)("section",{children:[(0,b.jsx)("div",{className:"h-px bg-slate-100 mb-6"}),(0,b.jsxs)("h3",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[(0,b.jsx)(m,{className:"w-5 h-5 text-purple-500"})," Employment Details"]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-semibold text-slate-600 uppercase",children:"Employee ID *"}),(0,b.jsx)("input",{name:"employeeId",required:!0,value:f.employeeId,onChange:h,className:"w-full p-3 bg-slate-100 border border-slate-200 rounded-xl text-slate-600 font-mono"})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-semibold text-slate-600 uppercase",children:"Employee Type *"}),(0,b.jsxs)("select",{name:"employeeType",required:!0,value:f.employeeType,onChange:h,className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all appearance-none cursor-pointer",children:[(0,b.jsx)("option",{value:"",children:"- Select Type -"}),(0,b.jsx)("option",{value:"Manager",children:"Manager"}),(0,b.jsx)("option",{value:"Receptionist",children:"Receptionist"}),(0,b.jsx)("option",{value:"Housekeeping",children:"Housekeeping"}),(0,b.jsx)("option",{value:"Chef",children:"Chef"}),(0,b.jsx)("option",{value:"Security",children:"Security"})]})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-semibold text-slate-600 uppercase",children:"Status *"}),(0,b.jsxs)("select",{name:"status",required:!0,value:f.status,onChange:h,className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all appearance-none cursor-pointer",children:[(0,b.jsx)("option",{value:"Active",children:"Active"}),(0,b.jsx)("option",{value:"Inactive",children:"Inactive"}),(0,b.jsx)("option",{value:"On Leave",children:"On Leave"})]})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-semibold text-slate-600 uppercase",children:"Join Date *"}),(0,b.jsx)("input",{type:"date",name:"joinDate",required:!0,value:f.joinDate,onChange:h,className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all"})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-semibold text-slate-600 uppercase",children:"Salary"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(q.DollarSign,{className:"absolute left-3 top-3 w-5 h-5 text-slate-400"}),(0,b.jsx)("input",{type:"number",name:"salary",value:f.salary,onChange:h,className:"w-full pl-10 p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all",placeholder:"Enter salary"})]})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-semibold text-slate-600 uppercase",children:"Assigned Room"}),(0,b.jsxs)("select",{name:"assignedRoom",value:f.assignedRoom,onChange:h,className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all appearance-none cursor-pointer",children:[(0,b.jsx)("option",{value:"",children:"- Select Room (Optional) -"}),(0,b.jsx)("option",{value:"101",children:"101"}),(0,b.jsx)("option",{value:"102",children:"102"}),(0,b.jsx)("option",{value:"201",children:"201"})]})]})]})]}),(0,b.jsxs)("section",{children:[(0,b.jsx)("div",{className:"h-px bg-slate-100 mb-6"}),(0,b.jsxs)("h3",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[(0,b.jsx)(n.Key,{className:"w-5 h-5 text-amber-500"})," IoT Configuration"]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-semibold text-slate-600 uppercase",children:"RF ID"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(n.Key,{className:"absolute left-3 top-3 w-5 h-5 text-slate-400"}),(0,b.jsx)("input",{name:"rfid",value:f.rfid,onChange:h,className:"w-full pl-10 p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all",placeholder:"Scan Card..."})]})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-xs font-semibold text-slate-600 uppercase",children:"BLE ID"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(r,{className:"absolute left-3 top-3 w-5 h-5 text-slate-400"}),(0,b.jsx)("input",{name:"bleId",value:f.bleId,onChange:h,className:"w-full pl-10 p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all",placeholder:"Enter BLE Tag ID"})]})]})]})]}),(0,b.jsxs)("div",{className:"sticky bottom-0 bg-white border-t border-slate-100 pt-4 pb-0 flex items-center justify-end gap-3",children:[(0,b.jsx)("button",{type:"button",onClick:d,className:"px-6 py-2.5 rounded-xl border border-slate-200 text-slate-600 font-medium hover:bg-slate-50 transition-colors",children:"Cancel"}),(0,b.jsxs)("button",{type:"submit",className:"px-6 py-2.5 rounded-xl bg-blue-600 text-white font-semibold hover:bg-blue-700 transition-colors shadow-lg shadow-blue-500/30 flex items-center gap-2",children:[(0,b.jsx)(l.User,{className:"w-5 h-5"}),"Add Employee"]})]})]})]})]})})}function t(){let[a,f]=(0,c.useState)([]),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(!0),o=async()=>{try{let a=await fetch("/api/employees");if(a.ok){let b=await a.json();f(b)}}catch(a){console.error("Failed to load employees",a)}finally{n(!1)}};(0,c.useEffect)(()=>{o()},[]);let p=async a=>{let b={id:a.employeeId,name:a.employeeName,role:a.employeeType,phone:a.phoneNumber,email:a.email,salary:a.salary,joinDate:new Date(a.joinDate||new Date).toISOString(),rfidCardId:a.rfid||null},c=await fetch("/api/employees",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(c.ok)o(),l(!1);else{let a=await c.json();alert(`Failed: ${a.error||"Something went wrong"}`)}},q=async a=>{confirm("Are you sure you want to delete this employee?")&&(await fetch(`/api/employees?id=${a}`,{method:"DELETE"}),o())},r=a.filter(a=>a.name.toLowerCase().includes(i.toLowerCase())||a.role.toLowerCase().includes(i.toLowerCase())||a.id.toLowerCase().includes(i.toLowerCase()));return m?(0,b.jsx)("div",{className:"p-10 text-center text-slate-400",children:"Loading Employees..."}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-slate-800",children:"Employee Management"}),(0,b.jsx)("p",{className:"text-slate-500 text-sm",children:"Manage staff, assignments, and roles"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"relative hidden md:block",children:[(0,b.jsx)(e.Search,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Search employees...",value:i,onChange:a=>j(a.target.value),className:"pl-9 pr-4 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 w-64 transition-all"})]}),(0,b.jsxs)("button",{onClick:()=>l(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 transition-colors shadow-lg shadow-blue-500/30",children:[(0,b.jsx)(d.Plus,{className:"w-4 h-4"}),"Add Employee"]})]})]}),(0,b.jsx)("div",{className:"flex justify-end",children:(0,b.jsxs)("div",{className:"bg-blue-50 text-blue-600 px-4 py-1.5 rounded-lg text-sm font-medium flex items-center gap-2",children:[(0,b.jsx)(h.BedDouble,{className:"w-4 h-4"}),"Total Employees: ",a.length]})}),0===a.length?(0,b.jsx)("div",{className:"text-center py-20 bg-white rounded-3xl border border-slate-100",children:(0,b.jsx)("p",{className:"text-slate-400",children:"No employees found. Add one to get started."})}):(0,b.jsx)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:r.map(a=>(0,b.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-16 h-16 rounded-full bg-blue-500 flex items-center justify-center text-white text-xl font-bold shadow-lg shadow-blue-500/20",children:a.name.substring(0,2).toUpperCase()}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-slate-800",children:a.name}),(0,b.jsx)("p",{className:"text-slate-500 text-sm",children:a.role}),(0,b.jsx)("span",{className:`inline-block mt-1 px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider ${"Active"===a.status?"bg-green-100 text-green-700":"bg-slate-100 text-slate-600"}`,children:a.status})]})]}),(0,b.jsx)("div",{className:"flex gap-2",children:(0,b.jsx)("button",{onClick:()=>q(a.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:(0,b.jsx)(g,{className:"w-4 h-4"})})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-y-4 gap-x-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-1",children:"Employee ID"}),(0,b.jsx)("p",{className:"text-sm font-medium text-slate-700",children:a.id})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-1",children:"Phone"}),(0,b.jsx)("p",{className:"text-sm font-medium text-slate-700",children:a.phone})]}),(0,b.jsxs)("div",{className:"col-span-2 sm:col-span-1",children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-1",children:"Email"}),(0,b.jsx)("p",{className:"text-sm font-medium text-slate-700 truncate",title:a.email,children:a.email})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-1",children:"Join Date"}),(0,b.jsx)("p",{className:"text-sm font-medium text-slate-700",children:new Date(a.joinDate).toLocaleDateString()})]}),(0,b.jsx)("div",{className:"col-span-2",children:(0,b.jsx)("div",{className:"h-px bg-slate-50 my-2"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-1",children:"Salary"}),(0,b.jsxs)("p",{className:"text-sm font-bold text-slate-800",children:["â‚¹",a.salary]})]})]})]},a.id))}),(0,b.jsx)(s,{isOpen:k,onClose:()=>l(!1),onSubmit:p})]})}a.s(["default",()=>t],72439)}];

//# sourceMappingURL=app_dashboard_employees_page_tsx_a2f2bbc1._.js.map